{% load static %}
<nav class="bg-white dark:bg-gray-800 shadow-md">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center py-4">
            <!-- Mobile Menu Button -->
            <div class="lg:hidden flex items-center">
                <button id="mobile-menu-button" class="text-gray-800 dark:text-gray-300 focus:outline-none">
                    <i class="fas fa-bars fa-lg"></i>
                </button>
            </div>

            <!-- Logo -->
            <a href="{% url 'product_list' %}" class="text-gray-800 dark:text-gray-300 text-2xl font-semibold" style="font-family: 'Poppins', sans-serif;">VastraKart</a>


            <!-- Navbar Links -->
            <div class="hidden lg:flex space-x-6 items-center">
                <a href="{% url 'product_list' %}" class="text-gray-800 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition duration-300">Home</a>
                <a href="{% url 'cart_detail' %}" class="text-gray-800 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition duration-300">Cart</a>
                <a href="{% url 'order_list'%}" class="text-gray-800 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition duration-300">Orders</a>
            </div>


            <!-- Authentication -->
            <div class="flex space-x-4 items-center">
                {% if user.is_authenticated %}
                    <div class="relative">
                        <button id="user-menu-button" class="flex items-center space-x-2 text-gray-800 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 focus:outline-none">
                            <i class="fas fa-user-circle fa-lg"></i>
                            <span>{{ user.username }}</span>
                        </button>
                        <div id="user-menu" class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg hidden">
                            <a href="#" class="block px-4 py-2 text-gray-800 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition duration-300">View Profile</a>
                            <a href="#" class="block px-4 py-2 text-gray-800 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition duration-300">Edit Profile</a>
                            <form action="{% url 'logout' %}" method="post">
                                {% csrf_token %}
                                <a class="block px-4 py-2 text-gray-800 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition duration-300"><button type="submit">Logout</button></a>
                            </form>
                        </div>
                    </div>
                {% else %}
                    <a href="{% url 'register' %}" class="bg-white/30 backdrop-blur-md text-gray-800 dark:text-white px-4 py-2 rounded-md hover:bg-white/50 transition duration-300 flex items-center space-x-2 shadow-md border border-white/20">
                        <span>Sign Up</span>
                    </a>
                    <a href="{% url 'login' %}" class="bg-blue-600 dark:bg-blue-400 text-white px-4 py-2 rounded-md hover:bg-blue-700 dark:hover:bg-blue-500 transition duration-300 flex items-center space-x-2 shadow-md">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Login</span>
                    </a>
                {% endif %}
            
            <!-- Dark Mode Toggle Buttons -->
                <button type="button" id="dark-mode-button" class="hs-dark-mode-active:hidden block hs-dark-mode group flex items-center text-gray-600 hover:text-blue-600 font-medium" data-hs-theme-click-value="dark">
                    <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
                    </svg>
                </button>
                <button type="button" id="light-mode-button" class="hs-dark-mode-active:block hidden hs-dark-mode group flex items-center text-gray-600 hover:text-blue-600 font-medium" data-hs-theme-click-value="light">
                    <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="4"></circle>
                        <path d="M12 2v2"></path>
                        <path d="M12 20v2"></path>
                        <path d="m4.93 4.93 1.41 1.41"></path>
                        <path d="m17.66 17.66 1.41 1.41"></path>
                        <path d="M2 12h2"></path>
                        <path d="M20 12h2"></path>
                        <path d="m6.34 17.66-1.41 1.41"></path>
                        <path d="m19.07 4.93-1.41 1.41"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden lg:hidden">
        <a href="{% url 'product_list' %}" class="block px-4 py-2 text-gray-800 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">Home</a>
        <a href="{% url 'cart_detail' %}" class="block px-4 py-2 text-gray-800 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">Cart</a>
        <a href="{% url 'order_list' %}" class="block px-4 py-2 text-gray-800 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">Orders</a>
    </div>
</nav>